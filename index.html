<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaia Dominium - Multiplayer Local</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

        <!-- Header -->
    <nav class="navbar navbar-dark">
        <span class="navbar-brand">Gaia Dominium</span>
        <div class="header-player-list" id="playerHeaderList">
            <span class="header-player-item">Aguardando In√≠cio...</span>
        </div>
        <span class="manual-icon" id="manualIcon" data-bs-toggle="modal" data-bs-target="#manualModal">
            <svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path d="M18 2H6C4.9 2 4 2.9 4 4v16c0 1.1 0.9 2 2 2h12c1.1 0 2-0.9 2-2V4C20 2.9 19.1 2 18 2zM6 4h12v16H6V4zm7 14h-2v-2h2v2zm0-4h-2V7h2v7z"/>
            </svg>
        </span>
    </nav>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <h5 id="recursosTitle">Recursos</h5>
            <div id="recursosDisplay">
                <!-- Conte√∫do atualizado por JS -->
            </div>
            
            <h5 id="pvTitle" style="margin-top: 20px;">Placar Global</h5>
            <div class="resource-item">
                <span class="label">Turno:</span>
                <span class="value" id="turnoDisplay">0</span>
            </div>
            <div id="playerListDisplay">
                <!-- Lista de jogadores (atualizado por JS) -->
            </div>
        </div>

        <!-- Game Map Container -->
        <div class="game-map-container">
            <!-- Game Map -->
            <div class="game-map" id="gameMap">
                <!-- Regi√µes geradas por JS -->
            </div>

            <!-- Action Panel -->
            <div class="action-panel">
                <button class="action-btn" id="explorarBtn" disabled>Explorar</button>
                <button class="action-btn" id="construirBtn" disabled>Construir</button>
                <button class="action-btn" id="recolherBtn" disabled>Recolher</button>
                <button class="action-btn" id="negociarBtn" disabled>Negociar</button>
                <button class="action-btn" id="endTurnBtn" disabled>Finalizar Turno</button>
            </div>
        </div>
    </div>

    <!-- Initial Screen -->
    <div class="initial-screen" id="initialScreen">
        <div class="player-setup-form">
            <h1>Configura√ß√£o de Partida</h1>
            <p>Multiplayer local para 2 a 4 jogadores. Cadastre os jogadores para come√ßar.</p>
            
            <div class="player-count-display" id="playerCountDisplay">0/4 Jogadores Registrados</div>
            
            <div class="player-input-group">
                <label for="playerName">Nome:</label>
                <input type="text" id="playerName" placeholder="Nome do Jogador">
            </div>

            <div class="player-input-group">
                <label>√çcone:</label>
                <div id="iconSelection">
                    <!-- √çcones gerados por JS -->
                </div>
            </div>

            <div class="d-grid gap-2">
                <button class="action-btn" id="addPlayerBtn">Adicionar Jogador</button>
                <button class="action-btn" id="startGameBtn" disabled style="margin-top: 10px;">Iniciar Jogo</button>
            </div>
        </div>
    </div>

    <!-- Feedback Message -->
    <div id="feedbackMessage"></div>

    <!-- Manual Modal -->
    <div class="modal fade" id="manualModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Manual do Jogo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#visaoGeral">Vis√£o Geral</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#mecanicas">Mec√¢nicas</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#acoes">A√ß√µes</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#dicas">Dicas</a>
                        </li>
                    </ul>
                    <div class="tab-content" style="margin-top: 20px;">
                        <div id="visaoGeral" class="tab-pane fade show active">
                            <h4>Vis√£o Geral</h4>
                            <p>Gaia Dominium √© um jogo de estrat√©gia digital que combina gerenciamento de recursos e intera√ß√£o entre jogadores. O objetivo √© acumular 25 Pontos de Vit√≥ria (PVs) para conquistar o planeta.</p>
                            <p>Cada jogador controla uma Fac√ß√£o com recursos iniciais e uma renda baseada em regi√µes e projetos ativos.</p>
                            <h4 style="margin-top: 20px;">Recursos Essenciais</h4>
                            <ul>
                                <li><strong>üå≤ Madeira (M):</strong> Recurso prim√°rio, usado para constru√ß√£o e recolha.</li>
                                <li><strong>üóø Pedra (P):</strong> Usada em constru√ß√µes mais robustas.</li>
                                <li><strong>üí∞ Ouro (G):</strong> Recurso estrat√©gico, essencial para negocia√ß√£o.</li>
                                <li><strong>üíß √Ågua (A):</strong> Recurso vital para produ√ß√£o e desenvolvimento.</li>
                            </ul>
                        </div>
                        <div id="mecanicas" class="tab-pane fade">
                            <h4>Mec√¢nicas do Jogo</h4>
                            <p><strong>Fluxo de Um Turno:</strong></p>
                            <ul>
                                <li><strong>Fase 1 - Renda Autom√°tica:</strong> Sistema calcula e adiciona recursos baseado em regi√µes controladas.</li>
                                <li><strong>Fase 2 - A√ß√£o Principal:</strong> Jogador executa uma a√ß√£o modular (Explorar, Construir, Recolher, Negociar).</li>
                                <li><strong>Fase 3 - Negocia√ß√£o:</strong> Jogador pode negociar recursos e √°reas com outros jogadores.</li>
                                <li><strong>Fase 4 - Passar Turno:</strong> Turno passa para o pr√≥ximo jogador.</li>
                            </ul>
                            <h4 style="margin-top: 20px;">Pontos de Vit√≥ria</h4>
                            <ul>
                                <li>Explorar uma regi√£o: +1 PV</li>
                                <li>Construir: +1-2 PV</li>
                                <li>Recolher: +1 PV</li>
                                <li>Negocia√ß√£o bem-sucedida: +1 PV (ambos)</li>
                                <li>Controlar 50% do mapa: +5 PV</li>
                                <li>Objetivo: Atingir 25 PV para vencer!</li>
                            </ul>
                        </div>
                        <div id="acoes" class="tab-pane fade">
                            <h4>A√ß√µes Dispon√≠veis</h4>
                            <p><strong>1. Explorar</strong></p>
                            <p>Custo: 2 Madeira + 1 √Ågua | Ganho: +1 PV, +50% produ√ß√£o na regi√£o</p>
                            <p><strong>2. Construir</strong></p>
                            <p>Custo: 3 Madeira + 2 Pedra + 1 Ouro | Ganho: +2 PV, +1 recurso/turno</p>
                            <p><strong>3. Recolher</strong></p>
                            <p>Custo: 1 Madeira | Ganho: +1 PV, +2 de cada recurso prim√°rio</p>
                            <p><strong>4. Negociar</strong></p>
                            <p>Custo: 1 Ouro | Ganho: +1 PV, troca de recursos e √°reas com outro jogador</p>
                        </div>
                        <div id="dicas" class="tab-pane fade">
                            <h4>Dicas Estrat√©gicas</h4>
                            <p><strong>Para Iniciantes:</strong></p>
                            <ul>
                                <li>Explore primeiro para desbloquear produ√ß√£o m√°xima</li>
                                <li>Mantenha recursos balanceados</li>
                                <li>Guarde Ouro para negocia√ß√µes estrat√©gicas</li>
                                <li>Negocie com outros jogadores para ganhar vantagem</li>
                            </ul>
                            <p><strong>Para Avan√ßados:</strong></p>
                            <ul>
                                <li>Use engine building com m√∫ltiplas estruturas</li>
                                <li>Bloqueie regi√µes que outros precisam</li>
                                <li>Converta recursos estrategicamente</li>
                                <li>Forme alian√ßas tempor√°rias atrav√©s de negocia√ß√µes</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Negocia√ß√£o Modal -->
    <div class="modal fade" id="negotiationModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Negocia√ß√£o</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="negotiationContent">
                        <!-- Conte√∫do da negocia√ß√£o ser√° inserido aqui -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="acceptNegotiationBtn">Aceitar</button>
                </div>
            </div>
        </div>
    </div>

<div class="modal fade" id="playerResourcesModal" tabindex="-1" aria-labelledby="playerResourcesModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content bg-surface text-text">
            <div class="modal-header">
                <h5 class="modal-title" id="playerResourcesModalLabel">Recursos de Jogador</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="playerResourcesContent">
                </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="buildModal" tabindex="-1" aria-labelledby="buildModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content bg-surface text-text">
            <div class="modal-header">
                <h5 class="modal-title" id="buildModalLabel">üõ†Ô∏è Selecione a Estrutura para Construir</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="buildOptionsContent">
                </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            </div>
        </div>
    </div>
</div>

    <div class="action-buttons-container">
    <button class="btn btn-primary action-btn" id="explorarBtn" data-bs-toggle="tooltip" data-bs-html="true" title="">Explorar</button>
    <button class="btn btn-primary action-btn" id="construirBtn" data-bs-toggle="tooltip" data-bs-html="true" title="">Construir</button>
    <button class="btn btn-primary action-btn" id="recolherBtn" data-bs-toggle="tooltip" data-bs-html="true" title="">Recolher</button>
    <button class="btn btn-primary action-btn" id="negociarBtn" data-bs-toggle="tooltip" data-bs-html="true" title="">Negociar</button>
    <button class="btn btn-success action-btn" id="endTurnBtn">Finalizar Turno</button>
</div>

<div class="modal fade" id="regionDetailsModal" tabindex="-1" aria-labelledby="regionDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content bg-surface text-text">
            <div class="modal-header">
                <h5 class="modal-title" id="regionDetailsModalLabel">Detalhes da Regi√£o</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="regionDetailsContent">
                </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
            </div>
        </div>
    </div>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script src="main.js"></script>
</body>
</html>
